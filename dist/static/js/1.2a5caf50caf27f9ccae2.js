webpackJsonp([1,3],{104:function(e,r,s){s(268);var t=s(52)(s(240),s(276),"data-v-9ac74718",null);e.exports=t.exports},224:function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=s(91);r.default={data:function(){var e=this;return{regForm:{username:"",password:"",checkPassword:""},rules:{username:[{required:!0,message:"用户名不能少",trigger:"blur"},{min:6,max:16,message:"用户名在6到16位之间",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:function(e,r,s){/(?!^[0-9]+$)(?!^[A-z]+$)(?!^[^A-z0-9]+$)^[^\s\u4e00-\u9fa5]{6,16}$/.test(r)?s():s(new Error("密码长度需6-16位，且包含字母和字符"))},trigger:"blur"}],checkPassword:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:function(r,s,t){s!==e.regForm.password?t(new Error("两次密码输入不一致")):t()},trigger:"blur"}]}}},methods:{resetForm:function(e){this.$refs[e].resetFields()},submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return!1;t.a.userRegister(r.regForm).then(function(e){e.data.success?r.$message({type:"success",message:"注册成功"}):r.$message({type:"info",message:"用户名已经存在"})})})}}}},230:function(e,r,s){r=e.exports=s(221)(!0),r.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Register.vue",sourceRoot:""}])},231:function(e,r,s){var t=s(230);"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);s(222)("de0bb518",t,!0)},232:function(e,r){e.exports={render:function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",[s("el-form",{ref:"regForm",attrs:{model:e.regForm,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"用户名",prop:"username"}},[s("el-input",{model:{value:e.regForm.username,callback:function(r){e.$set(e.regForm,"username",r)},expression:"regForm.username"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{attrs:{type:"password"},model:{value:e.regForm.password,callback:function(r){e.$set(e.regForm,"password",r)},expression:"regForm.password"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"确认密码",prop:"checkPassword"}},[s("el-input",{attrs:{type:"password"},model:{value:e.regForm.checkPassword,callback:function(r){e.$set(e.regForm,"checkPassword",r)},expression:"regForm.checkPassword"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(r){e.submitForm("regForm")}}},[e._v("注册")]),e._v(" "),s("el-button",{on:{click:function(r){e.resetForm("regForm")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]}},240:function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=s(91),o=s(94),a=s.n(o);r.default={data:function(){return{activeName:"login",loginForm:{username:"",password:""},rules:{username:[{required:!0,message:"用户名不能少",trigger:"blur"},{min:6,max:16,message:"用户名在6到16位之间",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{resetForm:function(e){this.$refs[e].resetFields()},submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return!1;var s=r.loginForm;t.a.userLogin(s).then(function(e){var s=e.data;if(!1===s.info)return void r.$message({type:"info",message:"账号不存在"});if(s.success){r.$message({type:"success",message:"登录成功"});var t=s.token,o=s.username;r.$store.dispatch("UserLogin",t),r.$store.dispatch("UserName",o);var a=decodeURIComponent(r.$route.query.redirect||"/");r.$router.push({path:a})}else r.$message({type:"info",message:"密码错误！"})})})}},components:{Register:a.a}}},260:function(e,r,s){r=e.exports=s(221)(!0),r.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Login.vue",sourceRoot:""}])},268:function(e,r,s){var t=s(260);"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);s(222)("1ee9f1ea",t,!0)},276:function(e,r){e.exports={render:function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",[s("el-row",[s("el-col",{attrs:{span:10,offset:7}},[s("el-tabs",{model:{value:e.activeName,callback:function(r){e.activeName=r},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"登录",name:"login"}},[s("el-form",{ref:"loginForm",attrs:{model:e.loginForm,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"用户名",prop:"username"}},[s("el-input",{model:{value:e.loginForm.username,callback:function(r){e.$set(e.loginForm,"username",r)},expression:"loginForm.username"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{attrs:{type:"password"},model:{value:e.loginForm.password,callback:function(r){e.$set(e.loginForm,"password",r)},expression:"loginForm.password"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(r){e.submitForm("loginForm")}}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:function(r){e.resetForm("loginForm")}}},[e._v("重置")])],1)],1)],1),e._v(" "),s("el-tab-pane",{attrs:{label:"注册",name:"register"}},[s("Register")],1)],1)],1)],1)],1)},staticRenderFns:[]}},94:function(e,r,s){s(231);var t=s(52)(s(224),s(232),"data-v-3f881030",null);e.exports=t.exports}});
//# sourceMappingURL=1.2a5caf50caf27f9ccae2.js.map